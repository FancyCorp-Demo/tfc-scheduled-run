# Based on https://github.com/hashicorp/tfc-workflows-github/blob/main/workflows/terraform-cloud.apply-run.workflow.yml
---
name: Terraform Cloud Apply Run

on: workflow_dispatch

env:
  TF_CLOUD_ORGANIZATION: "lmhd"
  TF_API_TOKEN: "${{ secrets.TF_API_TOKEN }}"
  TF_WORKSPACE: "vault"

jobs:
  terraform-cloud-apply-run:
    runs-on: ubuntu-latest
    steps:
      - uses: hashicorp/tfc-workflows-github/actions/create-run@v1.0.2
        id: create-run
        with:
          workspace: ${{ env.TF_WORKSPACE }}